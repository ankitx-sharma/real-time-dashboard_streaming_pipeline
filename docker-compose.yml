services:
    backend:
        build:
            context: .
            dockerfile: backend/Dockerfile
        container_name: rts-backend
        ports:
            - "8080:8080"
    
    frontend:
        build: 
            context: .
            dockerfile: frontend/Dockerfile
            args:
                VITE_API_BASE_URL: ""
        container_name: rts-frontend
        ports:
            - "3000:80"
        depends_on:
            - backend

    load-runner:
        build:
            context: .
            dockerfile: load-runner/Dockerfile
        container_name: rts-load-runner
        environment:
            BASE_URL: "http://backend:8080"
            EPS: "500"
            ERROR_PERC: "2"
        depends_on:
            - backend
        restart: unless-stopped

networks:
    default:
        name: rts-network